// ============================================
// BOOTSTRAP 5 + APPLE DESIGN INTEGRATION
// ============================================

// 1. Import Custom Variables (BEFORE Bootstrap)
@import 'style/bootstrap-custom';

// 2. Import Bootstrap Mixins & Utilities
@import 'bootstrap/scss/mixins';
@import 'bootstrap/scss/utilities';

// 3. Import Bootstrap Components (Selective)
@import 'bootstrap/scss/root';
@import 'bootstrap/scss/reboot';
@import 'bootstrap/scss/type';
@import 'bootstrap/scss/images';
@import 'bootstrap/scss/containers';
@import 'bootstrap/scss/grid';
@import 'bootstrap/scss/tables';
@import 'bootstrap/scss/forms';
@import 'bootstrap/scss/buttons';
@import 'bootstrap/scss/transitions';
@import 'bootstrap/scss/dropdown';
@import 'bootstrap/scss/button-group';
@import 'bootstrap/scss/nav';
@import 'bootstrap/scss/navbar';
@import 'bootstrap/scss/card';
@import 'bootstrap/scss/accordion';
@import 'bootstrap/scss/breadcrumb';
@import 'bootstrap/scss/pagination';
@import 'bootstrap/scss/badge';
@import 'bootstrap/scss/alert';
@import 'bootstrap/scss/progress';
@import 'bootstrap/scss/list-group';
@import 'bootstrap/scss/close';
@import 'bootstrap/scss/toasts';
@import 'bootstrap/scss/modal';
@import 'bootstrap/scss/tooltip';
@import 'bootstrap/scss/popover';
@import 'bootstrap/scss/carousel';
@import 'bootstrap/scss/spinners';
@import 'bootstrap/scss/offcanvas';
@import 'bootstrap/scss/placeholders';
@import 'bootstrap/scss/helpers';

// 4. Bootstrap Utilities API
@import 'bootstrap/scss/utilities/api';

// ============================================
// CUSTOM OVERRIDES & EXTENSIONS
// ============================================

// Body Reset
body {
    scrollbar-width: none;
    -ms-overflow-style: none;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-width: 320px;
    overflow-x: hidden;
    
    &::-webkit-scrollbar {
        display: none;
    }
}

// Custom Apple-Style Components
.apple-gradient {
    background: $apple-teal-gradient;
}

.apple-glass {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.apple-shadow-sm {
    box-shadow: $apple-shadow-small;
}

.apple-shadow-md {
    box-shadow: $apple-shadow-medium;
}

.apple-shadow-lg {
    box-shadow: $apple-shadow-large;
}

.apple-shadow-glow {
    box-shadow: $apple-shadow-glow;
}

// Custom Button Styles
.btn-apple {
    background: $apple-teal-gradient;
    border: none;
    color: white;
    font-weight: 600;
    border-radius: $border-radius;
    transition: $apple-transition-fast;
    box-shadow: $apple-shadow-small;
    
    &:hover {
        transform: translateY(-2px);
        box-shadow: $apple-shadow-medium;
        background: linear-gradient(135deg, darken($primary, 5%) 0%, lighten($secondary, 5%) 100%);
    }
    
    &:active {
        transform: translateY(0);
    }
    
    &:focus {
        box-shadow: $apple-shadow-medium, 0 0 0 0.25rem rgba($primary, 0.25);
    }
}

.btn-apple-secondary {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    &:hover {
        background: rgba(255, 255, 255, 0.15);
        border-color: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        color: white;
    }
}

// Custom Card Styles
.card-apple {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: $border-radius-lg;
    box-shadow: $apple-shadow-medium;
    transition: $apple-transition-medium;
    
    &:hover {
        transform: translateY(-4px);
        box-shadow: $apple-shadow-large;
        border-color: rgba($primary, 0.3);
    }
}

// Responsive Images
.img-responsive {
    max-width: 100%;
    height: auto;
    display: block;
}

// Custom Grid Extensions
.container-apple {
    max-width: 1440px;
    margin: 0 auto;
    padding-left: clamp(1rem, 4vw, 5rem);
    padding-right: clamp(1rem, 4vw, 5rem);
}

// Responsive Text Sizes
.text-responsive-xs {
    font-size: clamp(0.875rem, 3vw, 1rem);
}

.text-responsive-sm {
    font-size: clamp(1rem, 3.5vw, 1.125rem);
}

.text-responsive-md {
    font-size: clamp(1.125rem, 4vw, 1.25rem);
}

.text-responsive-lg {
    font-size: clamp(1.25rem, 4.5vw, 1.5rem);
}

.text-responsive-xl {
    font-size: clamp(1.5rem, 5vw, 2rem);
}

.text-responsive-2xl {
    font-size: clamp(2rem, 6vw, 3rem);
}

// Custom Navbar
.navbar-apple {
    background: rgba(28, 28, 30, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    
    .navbar-brand {
        font-weight: 600;
        color: white;
        
        &:hover {
            color: $primary;
        }
    }
    
    .nav-link {
        color: rgba(255, 255, 255, 0.9);
        font-weight: 500;
        border-radius: $border-radius-sm;
        margin: 0 0.25rem;
        padding: 0.5rem 1rem;
        transition: $apple-transition-fast;
        
        &:hover {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }
        
        &.active {
            color: $primary;
            background: rgba($primary, 0.1);
        }
    }
}

// Custom Forms
.form-apple {
    .form-control {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: $border-radius;
        color: white;
        
        &:focus {
            background: rgba(255, 255, 255, 0.08);
            border-color: $primary;
            color: white;
            box-shadow: 0 0 0 0.25rem rgba($primary, 0.25);
        }
        
        &::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
    }
    
    .form-label {
        color: rgba(255, 255, 255, 0.9);
        font-weight: 500;
    }
}

// Animation Classes
@keyframes apple-fade-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes apple-scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes apple-bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-8px);
    }
}

.animate-fade-in {
    animation: apple-fade-in 0.6s ease-out;
}

.animate-scale-in {
    animation: apple-scale-in 0.4s ease-out;
}

.animate-bounce {
    animation: apple-bounce 2s ease-in-out infinite;
}

// Responsive Utilities
.hide-on-mobile {
    @include media-breakpoint-down(md) {
        display: none !important;
    }
}

.hide-on-desktop {
    @include media-breakpoint-up(md) {
        display: none !important;
    }
}

.show-on-mobile {
    @include media-breakpoint-up(md) {
        display: none !important;
    }
}

.show-on-desktop {
    @include media-breakpoint-down(md) {
        display: none !important;
    }
}

// Touch-friendly sizing
.touch-target {
    min-height: 44px;
    min-width: 44px;
}

// Custom Spacer
.spacer-apple {
    height: clamp(2rem, 8vw, 5rem);
}

// Smooth transitions
* {
    box-sizing: border-box;
}

a {
    text-decoration: none;
    color: inherit;
    transition: $apple-transition-fast;
    
    &:hover {
        color: $primary;
        text-decoration: none;
    }
}

// Selection styling
::selection {
    background: rgba($primary, 0.3);
    color: white;
}

// Focus states
:focus-visible {
    outline: 2px solid $primary;
    outline-offset: 2px;
    border-radius: $border-radius-sm;
}

// Accessibility
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

@media (prefers-contrast: high) {
    .card-apple,
    .form-control,
    .btn {
        border-width: 2px;
        border-color: currentColor;
    }
}

// Print styles
@media print {
    .hide-on-print {
        display: none !important;
    }
    
    body {
        background: white !important;
        color: black !important;
    }
    
    .card-apple {
        background: white !important;
        border: 1px solid black !important;
        box-shadow: none !important;
    }
}