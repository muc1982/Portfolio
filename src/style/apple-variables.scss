@use 'sass:color';

// ===== TRANSITIONS =====
$apple-transition-fast: all 0.2s cubic-bezier(0.25, 0.1, 0.25, 1) !default;
$apple-transition-medium: all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1) !default;
$apple-transition-slow: all 0.5s cubic-bezier(0.25, 0.1, 0.25, 1) !default;

// ===== COLORS =====
$apple-primary: #0A84FF !default; 
$apple-secondary: #32D74B !default; 
$apple-success: #32D74B !default;
$apple-error: #FF453A !default; 
$apple-warning: #FF9F0A !default; 

$apple-bg-primary: #000000 !default; 
$apple-bg-secondary: #1C1C1E !default;
$apple-bg-tertiary: #2C2C2E !default;
$apple-bg-quaternary: #3A3A3C !default;

$apple-text-primary: #FFFFFF !default;
$apple-text-secondary: #F2F2F7 !default; 
$apple-text-tertiary: #AEAEB2 !default; 

$apple-teal-gradient: linear-gradient(135deg, #0A84FF 0%, #32D74B 100%) !default;
$apple-shadow-small: 0 2px 8px rgba(0, 0, 0, 0.2) !default;
$apple-shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.25) !default;
$apple-shadow-large: 0 8px 32px rgba(0, 0, 0, 0.35) !default;
$apple-shadow-glow: 0 0 20px rgba(10, 132, 255, 0.6) !default;

// ===== TYPOGRAPHY =====
$apple-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !default;
$apple-font-weight-regular: 400 !default;
$apple-font-weight-medium: 500 !default;
$apple-font-weight-semibold: 600 !default;
$apple-font-weight-bold: 700 !default;

// ===== ERWEITERTE BREAKPOINTS =====
$breakpoint-xs: 320px !default;        // Sehr kleine Phones
$breakpoint-sm: 375px !default;        // iPhone SE, kleine Phones  
$breakpoint-mobile: 480px !default;    // Größere Phones
$breakpoint-tablet: 768px !default;    // Tablets
$breakpoint-desktop: 900px !default;   // Small Desktop
$breakpoint-large: 1200px !default;    // Large Desktop
$breakpoint-xl: 1440px !default;       // XL Desktop
$breakpoint-2xl: 1920px !default;      // 4K

// ===== ERWEITERTE RESPONSIVE FONT SIZES =====
// Optimiert für alle Screen-Größen mit Mindestgrößen
$font-xs: clamp(10px, 2.5vw, 12px) !default;
$font-sm: clamp(12px, 3vw, 14px) !default;
$font-base: clamp(14px, 3.5vw, 16px) !default;
$font-md: clamp(16px, 4vw, 18px) !default;
$font-lg: clamp(18px, 4.5vw, 22px) !default;
$font-xl: clamp(20px, 5vw, 28px) !default;
$font-2xl: clamp(24px, 6vw, 36px) !default;
$font-3xl: clamp(32px, 8vw, 48px) !default;

// Spezielle 375px optimierte Größen
$font-375-xs: clamp(11px, 3vw, 13px) !default;
$font-375-sm: clamp(13px, 3.5vw, 15px) !default;
$font-375-base: clamp(15px, 4vw, 17px) !default;
$font-375-md: clamp(17px, 4.5vw, 19px) !default;
$font-375-lg: clamp(19px, 5vw, 23px) !default;

// Mobile-first Font-Größen
$font-mobile-xs: clamp(9px, 2.2vw, 11px) !default;
$font-mobile-sm: clamp(11px, 2.8vw, 13px) !default;
$font-mobile-base: clamp(13px, 3.2vw, 15px) !default;
$font-mobile-md: clamp(14px, 3.6vw, 16px) !default;
$font-mobile-lg: clamp(16px, 4.2vw, 20px) !default;

// ===== ERWEITERTE SPACING VARIABLEN =====
// Sehr kleine Devices (320px-374px)
$space-xs-tight: clamp(2px, 0.5vw, 4px) !default;
$space-sm-tight: clamp(4px, 1vw, 6px) !default;
$space-base-tight: clamp(6px, 1.5vw, 8px) !default;
$space-md-tight: clamp(8px, 2vw, 12px) !default;
$space-lg-tight: clamp(12px, 3vw, 16px) !default;

// Standard Mobile (375px-768px)
$space-xs: clamp(4px, 1vw, 8px) !default;
$space-sm: clamp(8px, 2vw, 12px) !default;
$space-base: clamp(12px, 3vw, 16px) !default;
$space-md: clamp(16px, 4vw, 24px) !default;
$space-lg: clamp(24px, 6vw, 32px) !default;
$space-xl: clamp(32px, 8vw, 48px) !default;
$space-2xl: clamp(48px, 12vw, 64px) !default;
$space-3xl: clamp(64px, 16vw, 96px) !default;

// Mobile-spezifisches Spacing
$space-mobile-xs: clamp(2px, 0.5vw, 4px) !default;
$space-mobile-sm: clamp(4px, 1vw, 8px) !default;
$space-mobile-base: clamp(8px, 2vw, 12px) !default;
$space-mobile-md: clamp(12px, 3vw, 16px) !default;
$space-mobile-lg: clamp(16px, 4vw, 24px) !default;
$space-mobile-xl: clamp(24px, 6vw, 32px) !default;

// ===== ERWEITERTE PADDING VARIABLEN =====
// Standard Padding für alle Größen
$padding-xs: clamp(6px, 1.5vw, 8px) !default;
$padding-sm: clamp(8px, 2vw, 12px) !default;
$padding-base: clamp(12px, 3vw, 16px) !default;
$padding-md: clamp(16px, 4vw, 24px) !default;
$padding-lg: clamp(24px, 6vw, 32px) !default;
$padding-xl: clamp(32px, 8vw, 48px) !default;

// Mobile Padding für sehr kleine Screens
$padding-mobile-xs: clamp(4px, 1vw, 6px) !default;
$padding-mobile-sm: clamp(6px, 1.5vw, 8px) !default;
$padding-mobile-base: clamp(8px, 2vw, 12px) !default;
$padding-mobile-md: clamp(12px, 3vw, 16px) !default;
$padding-mobile-lg: clamp(16px, 4vw, 24px) !default;

// ===== ERWEITERTE BORDER RADIUS =====
$apple-radius-small: clamp(4px, 1vw, 6px) !default;
$apple-radius-medium: clamp(6px, 1.5vw, 8px) !default;
$apple-radius-large: clamp(8px, 2vw, 12px) !default;
$apple-radius-xl: clamp(12px, 3vw, 16px) !default;
$apple-radius-2xl: clamp(16px, 4vw, 24px) !default;

// ===== NAVIGATION HEIGHTS =====
$nav-height-desktop: 104px !default;
$nav-height-tablet: 88px !default;
$nav-height-mobile: 72px !default;
$nav-height-small: 64px !default;

// ===== TOUCH TARGETS =====
$touch-target-default: 44px !default;
$touch-target-small: 32px !default;
$touch-target-large: 48px !default;

// ===== GRID GAPS =====
$grid-gap-tight: clamp(8px, 2vw, 12px) !default;
$grid-gap-normal: clamp(12px, 3vw, 16px) !default;
$grid-gap-wide: clamp(16px, 4vw, 24px) !default;
$grid-gap-mobile: clamp(6px, 1.5vw, 10px) !default;

// ===== ERWEITERTE MIXINS =====
@mixin dFlex($fd: row, $jc: center, $ai: center, $gap: 0) {
    display: flex;
    flex-direction: $fd;
    justify-content: $jc;
    align-items: $ai;
    @if $gap != 0 {
        gap: $gap;
    }
}

// Responsive Navigation Height
@mixin responsive-nav-height() {
    height: $nav-height-mobile;
    
    @media screen and (min-width: $breakpoint-tablet) {
        height: $nav-height-tablet;
    }
    
    @media screen and (min-width: $breakpoint-desktop) {
        height: $nav-height-desktop;
    }
}

// Touch Target Optimization
@mixin touch-target($size: $touch-target-default) {
    min-width: $size;
    min-height: $size;
    display: flex;
    align-items: center;
    justify-content: center;
}

// Enhanced Padding Mixins
@mixin standardPadding() {
    padding-left: clamp(16px, 4vw, 80px);
    padding-right: clamp(16px, 4vw, 80px);
}

@mixin standardPaddingMobile() {
    padding-left: clamp(12px, 3vw, 24px);
    padding-right: clamp(12px, 3vw, 24px);
}

// Card Padding basierend auf Viewport
@mixin mobile-card-padding() {
    padding: $padding-mobile-base;
    
    @media screen and (min-width: $breakpoint-sm) {
        padding: $padding-base;
    }
    
    @media screen and (min-width: $breakpoint-tablet) {
        padding: $padding-md;
    }
}

// Responsive Icons
@mixin responsive-icon($size: 'md') {
    @if $size == 'sm' {
        width: clamp(16px, 4vw, 24px);
        height: clamp(16px, 4vw, 24px);
    } @else if $size == 'md' {
        width: clamp(24px, 6vw, 32px);
        height: clamp(24px, 6vw, 32px);
    } @else if $size == 'lg' {
        width: clamp(32px, 8vw, 48px);
        height: clamp(32px, 8vw, 48px);
    }
}

// Responsive Grids
@mixin responsive-grid($mobile-cols: 1, $tablet-cols: 2, $desktop-cols: 3) {
    display: grid;
    gap: $grid-gap-mobile;
    grid-template-columns: repeat($mobile-cols, 1fr);
    
    @media screen and (min-width: $breakpoint-tablet) {
        gap: $grid-gap-normal;
        grid-template-columns: repeat($tablet-cols, 1fr);
    }
    
    @media screen and (min-width: $breakpoint-desktop) {
        gap: $grid-gap-wide;
        grid-template-columns: repeat($desktop-cols, 1fr);
    }
}

// Typography Mixins
@mixin h1Title() {
    font-family: $apple-font-family;
    font-weight: $apple-font-weight-bold;
    font-size: clamp(1.8rem, 6vw, 3.5rem);
    line-height: clamp(1.1, 1.2, 1.3);
    letter-spacing: -0.02em;
    background: $apple-teal-gradient;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    
    @media screen and (min-width: $breakpoint-desktop) {
        font-size: clamp(2.5rem, 5vw, 4.5rem);
    }
}

@mixin h2Title() {
    font-family: $apple-font-family;
    font-weight: $apple-font-weight-bold;
    font-size: clamp(1.5rem, 5vw, 2.8rem);
    line-height: clamp(1.2, 1.3, 1.4);
    letter-spacing: -0.01em;
    background: $apple-teal-gradient;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    
    @media screen and (min-width: $breakpoint-desktop) {
        font-size: clamp(2rem, 4vw, 3.5rem);
    }
}

@mixin h2TitleMobile() {
    @include h2Title();
    font-size: clamp(1.25rem, 4.5vw, 2rem);
    
    @media screen and (max-width: $breakpoint-sm) {
        font-size: clamp(1.125rem, 4vw, 1.5rem);
    }
}

// Enhanced Input Styles
@mixin apple-input() {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1); 
    border-radius: $apple-radius-medium;
    color: $apple-text-primary;
    transition: $apple-transition-medium;
    outline: none;
    font-family: $apple-font-family;
    font-size: clamp(14px, 3.5vw, 16px);
    font-weight: $apple-font-weight-regular;
    padding: clamp(12px, 3vw, 16px) clamp(16px, 4vw, 20px);
    min-height: clamp(44px, 10vw, 48px);
    width: 100%;
    box-sizing: border-box;
    
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    
    &:focus {
        border-color: $apple-primary;
        background: rgba(255, 255, 255, 0.08);
        box-shadow: 0 0 0 3px rgba($apple-primary, 0.2);
        transform: translateY(-1px);
    }
    
    &::placeholder {
        color: $apple-text-tertiary;
        font-size: clamp(14px, 3.5vw, 16px);
    }
    
    // Mobile specific - verhindert Zoom auf iOS
    @media screen and (max-width: $breakpoint-mobile) {
        font-size: 16px;
        padding: clamp(10px, 2.5vw, 14px) clamp(14px, 3.5vw, 18px);
        min-height: 44px;
    }
}

// Enhanced Button Styles
@mixin apple-button-primary() {
    background: $apple-primary;
    color: $apple-text-primary;
    border: none; 
    border-radius: $apple-radius-medium;
    font-family: $apple-font-family;
    font-weight: $apple-font-weight-semibold;
    font-size: clamp(14px, 3.5vw, 18px);
    padding: clamp(12px, 3vw, 16px) clamp(20px, 5vw, 32px);
    min-height: $touch-target-default;
    min-width: clamp(100px, 25vw, 160px);
    transition: $apple-transition-fast;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    
    &::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, transparent 50%);
        opacity: 0;
        transition: $apple-transition-fast;
    }
    
    &:hover {
        background: color.adjust($apple-primary, $lightness: 5%);
        transform: translateY(-2px);
        box-shadow: $apple-shadow-medium;
        
        &::before {
            opacity: 1;
        }
    }
    
    &:active {
        transform: translateY(0);
        background: color.adjust($apple-primary, $lightness: -2%);
    }
    
    &:focus-visible {
        outline: 2px solid rgba($apple-primary, 0.5);
        outline-offset: 2px;
    }
    
    &:disabled {
        background: $apple-bg-quaternary;
        color: $apple-text-tertiary;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
        
        &:hover {
            background: $apple-bg-quaternary;
            color: $apple-text-tertiary;
            transform: none;
            box-shadow: none;
        }
        
        &::before {
            display: none;
        }
    }
    
    // Mobile specific
    @media screen and (max-width: $breakpoint-mobile) {
        font-size: 16px;
        padding: 12px 20px;
        min-height: $touch-target-default;
    }
}

// Glassmorphism Styles
@mixin apple-glassmorphism-light() {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: $apple-radius-large;
}

@mixin apple-glassmorphism-medium() {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: $apple-radius-large;
}

// Navigation Glass Effect
@mixin apple-nav-glass() {
    backdrop-filter: saturate(180%) blur(20px);
    -webkit-backdrop-filter: saturate(180%) blur(20px);
    background: rgba(28, 28, 30, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

// Logo Styles
@mixin apple-logo() {
    filter: brightness(1.2) contrast(1.1) saturate(1.2);
    transition: $apple-transition-fast;
    
    &:hover {
        filter: brightness(1.4) contrast(1.2) saturate(1.4);
        transform: scale(1.05);
    }
}

// Responsive Breakpoint Mixins
@mixin mobile-only {
    @media screen and (max-width: #{$breakpoint-desktop - 1px}) {
        @content;
    }
}

@mixin tablet-only {
    @media screen and (min-width: $breakpoint-tablet) and (max-width: #{$breakpoint-desktop - 1px}) {
        @content;
    }
}

@mixin desktop-only {
    @media screen and (min-width: $breakpoint-desktop) {
        @content;
    }
}

@mixin respond-to($breakpoint) {
    @if $breakpoint == 'mobile' {
        @media screen and (max-width: #{$breakpoint-mobile - 1px}) {
            @content;
        }
    }
    @else if $breakpoint == 'tablet' {
        @media screen and (min-width: $breakpoint-tablet) and (max-width: #{$breakpoint-desktop - 1px}) {
            @content;
        }
    }
    @else if $breakpoint == 'desktop' {
        @media screen and (min-width: $breakpoint-desktop) {
            @content;
        }
    }
    @else if $breakpoint == 'desktop-small' {
        @media screen and (min-width: $breakpoint-desktop) {
            @content;
        }
    }
    @else if $breakpoint == 'large' {
        @media screen and (min-width: $breakpoint-large) {
            @content;
        }
    }
}

// Safe Area Support für Devices mit Notch
@mixin safe-area-container() {
    padding-left: max(env(safe-area-inset-left), clamp(16px, 4vw, 32px));
    padding-right: max(env(safe-area-inset-right), clamp(16px, 4vw, 32px));
}

// Enhanced Animation Keyframes
@keyframes apple-fade-in {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes apple-slide-up {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes apple-scale-in {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}